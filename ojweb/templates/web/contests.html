{% extends "web/base.html" %}
{% block title %}Contests{% endblock %}
{% block main %}
    <table style="width:100%">
        <tr>
            <th style="width:10%">ID</th>
            <th style="width:30%">Title</th>
            <th style="width:20%">Begin Time</th>
            <th style="width:20%">End Time</th>
            <th style="width:5%">Public</th>
            <th style="width:5%">Status</th>
            <th style="width:10%">Register</th>
        </tr>
        {% for c in contests %}
        <tr>
            <td style="text-align:center">{{c.id}}</td>
            <td><a href="/contest/{{c.id}}">{{c.title}}</a></td>
            <td style="text-align:center">{{c.begintime|date:"Y-m-d H:i:s"}}</td>
            <td style="text-align:center">{{c.endtime|date:"Y-m-d H:i:s"}}</td>
            <td style="text-align:center">{{c.public}}</td>
            <td style="text-align:center">
                {{c.status}}
            </td>
            <td style="text-align:center">
                {% if c.public %}
                    {% if c.join %}
                        <a href="/contest/{{c.id}}">Entry>></a>
                    {% else %}
                        <a href="/contest/{{c.id}}/reg">Register>></a>
                    {% endif %}
                {% else %}
                    Private
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7">
                <p>There are now no contest yet.</p>
            </td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}